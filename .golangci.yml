version: "2"

linters:
  enable:
    - forbidigo
    - govet
    - errcheck
    - staticcheck
    - ineffassign
    - unused

  settings:
    forbidigo:
      forbid:
        - pattern: '^fmt\.Print.*$'
          msg: "use internal/log.Logger instead of fmt.Print* for console output"
        - pattern: '^fmt\.Fprint.*\(os\.Stdout'
          msg: "use internal/log.Logger instead of fmt.Fprint* to os.Stdout"
      analyze-types: true
      exclude-godoc-examples: true

  exclusions:
    paths:
      - vendor
    rules:
      # Allow in test files
      - path: _test\.go
        linters:
          - forbidigo
      # Allow in main.go (CLI entry point)
      - path: main\.go
        linters:
          - forbidigo
      # Allow in cmd/ package (CLI initialization)
      - path: cmd/
        linters:
          - forbidigo
      # Allow in log/ package (log implementation itself)
      - path: internal/log/
        linters:
          - forbidigo

formatters:
  enable:
    - gofmt
    - goimports

run:
  timeout: 5m
